# 256色対応
set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",*256col*:Tc"

# マウス操作を有効化
set -g mouse on

# ペイン分割のキーバインド
bind | split-window -h
bind - split-window -v
unbind '"'

# ステータスバー2段
set -g status 3
set -g status-bg colour235
set -g status-fg white
set -g status-left '[#S] '
set -g status-right '%Y-%m-%d %H:%M'

# 2段目: チートシート
set -g status-format[1] '#[align=left,bg=colour236,fg=colour248] 基本: claude-chill claude  |  -a 0: Claude停止後の自動スクロールバック無効  |  --resume: 前回セッション再開  |  --dangerously-skip-permissions: 確認なし自律実行'
set -g status-format[2] '#[align=left,bg=colour237,fg=colour244] 全部入り: claude-chill -a 0 claude --resume --dangerously-skip-permissions'

# ペインの背景色・文字色
set -g window-active-style 'bg=#000000,fg=#00ff00'
set -g window-style 'bg=#1a1a1a,fg=#aaaaaa'

# ペインボーダー色
set -g pane-active-border-style 'fg=#00ff00'
set -g pane-border-style 'fg=#666666'

# ヒストリーサイズ
set -g history-limit 500

# 下スクロールで一番下に達したら即座にコピーモード終了
bind -n WheelDownPane if-shell -F "#{pane_in_mode}" "send-keys -M" ""

# ペイン境界線にディレクトリ表示
set -g pane-border-status bottom
set -g pane-border-format ' #{s|/home/neo|~|:pane_current_path} '

# WSLクリップボード連携
bind-key -T copy-mode MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "clip.exe"
bind-key -T copy-mode-vi MouseDragEnd1Pane send-keys -X copy-pipe-and-cancel "clip.exe"
